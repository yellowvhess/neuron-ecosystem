<!DOCTYPE html>
<html>
<head>
    <title>Neuron Chat - P2P –ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</title>
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
    <style>
        body { font-family: Arial; max-width: 600px; margin: 0 auto; padding: 20px; }
        #messages { border: 1px solid #ccc; height: 300px; overflow-y: scroll; padding: 10px; }
        .message { margin: 5px 0; }
    </style>
</head>
<body>
    <h1>üí¨ Neuron Chat</h1>
    
    <div>
        <input type="text" id="username" placeholder="–í–∞—à–µ –∏–º—è">
        <input type="text" id="messageInput" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ">
        <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
    
    <div id="messages"></div>

    <script>
        const gun = Gun('https://gun-manhattan.herokuapp.com/gun')
        
        function sendMessage() {
            const username = document.getElementById('username').value || '–ê–Ω–æ–Ω–∏–º'
            const message = document.getElementById('messageInput').value
            
            if (message) {
                gun.get('neuron-chat').set({
                    user: username,
                    text: message,
                    time: new Date().toLocaleTimeString()
                })
                document.getElementById('messageInput').value = ''
            }
        }
        
        // –ü–æ–ª—É—á–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
        gun.get('neuron-chat').map().on(function(msg) {
            if (msg) {
                const messageElement = `<div class="message"><b>${msg.user}:</b> ${msg.text} <small>${msg.time}</small></div>`
                document.getElementById('messages').innerHTML += messageElement
                document.getElementById('messages').scrollTop = document.getElementById('messages').scrollHeight
            }
        })
    </script>
    
    <br>
    <a href="index.html">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–æ—Ä—Ç–∞–ª—É</a>
</body>
</html>
